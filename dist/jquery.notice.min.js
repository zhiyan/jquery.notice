/*! jQuery Notice - v0.1.0 - 2013-11-19
* https://github.com/zhiyan/jquery.notice
* Copyright (c) 2013 ian; Licensed MIT */
!function(a){function b(b){var c,e,f="",g=this,h="",i="notice";a(".notice:visible").length&&a(".notice").remove(),"object"==typeof b?a.extend(this,b):"string"==typeof b&&(this.content=b),e=a(this.container),i+=" "+this["class"]||"",f='<div class="'+i+'"><div class="inner-top"><h3>'+this.title+'</h3><div class="close"></div></div><div class="inner-middle">'+this.content+'</div><div class="inner-bottom"><div class="notice-btn">',this.buttonName&&this.buttonDo&&("string"==typeof this.buttonDo&&(h=this.buttonDo),f+='<a href="'+h+'" class="inner-btn button-do" style="margin-right:10px;">'+this.buttonName+"</a>"),this.cancelhide||(f+='<a href="" class="inner-btn cancel">'+this.cancelName+"</a>"),f+="</div></div></div>",c=a(f),"function"==typeof this.buttonDo&&c.find(".button-do").click(function(){return g.buttonDo(),g.close(c),!1}),c.find(".close,.cancel").click(function(){return g.close(c),"function"==typeof g.callback&&g.callback(),!1}),f=null,e.append(c),e[0]===document.body&&g.makeCenter(c),c.find(".close,.cancel").length&&d.bind("keydown",{obj:c},g.escQuit)}var c=a(window),d=a(document);b.prototype={title:"Notice",content:"",container:document.body,cancelName:"Cancel",close:function(a){a.remove(),d.unbind("keydown",this.escQuit)},makeCenter:function(a){var b=parseInt(-a.width()/2,10),e=parseInt(-a.height()/2,10);a.css({position:"absolute",left:"50%",top:d.scrollTop()+c.height()/2,"margin-left":b,"margin-top":e})},escQuit:function(a){27===+a.keyCode&&a.data.obj.find(".close").trigger("click")}},a.jquery_notice=function(a){return new b(a)}}(jQuery);